; expected:
; r0=000202 r2=123456 r4=051654 sp=000000
; r1=054321 r3=177654 r5=000000 pc=001024
; psw=000001: cm=k pm=k pri=0      c [9]
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Реализовать команду COM и COMB 
; Двоичный код COM:  0 000 101 001 ddd ddd
; Двоичный код COMB: 1 000 101 001 ddd ddd
; Формат ассемблера: COM dst
; Формат ассемблера: COMB dst
; В dst для каждого бита 1 меняется на 0, а 0 на 1. 
; N, Z - по результату операции
; V=0, C=1 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; oct: 123456
; bin: 0 010 011 100 101 110
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

    .=200
A:  .WORD  123456
B:  .BYTE  123, 123

    .=1000
    mov #A, R0      ; R0 = 200
    mov (R0)+, R1   ; R1 = 123456
     
    com R1          ; R1 = 054321
    mov R1, R2
    com R2          ; R2 = 123456
    
    comb (R0)       ; [202] = 254 = 10 101 100
    movb (R0), R3   ; R3 = 254 -> 1 111 111 110 101 100 = 177654
    mov (R0), R4    ; R4 = [01 010 011 10 101 100 ] = 
                    ;    = [0 101 001 110 101 100] = 051654
    
    halt
